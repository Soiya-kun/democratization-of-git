# 04 安全性/制限/将来

## 1. セキュリティ/安全性

- UIから渡るファイルパスは必ずワークスペース配下に正規化し検証する
- 破壊的操作は確認ダイアログ + 取り消し不能の注意を必須にする
- Terminalは強力なため、危険性を明示する (MVPは“上級者向け”表示でもよい)

## 2. 制限 (MVP)

- 差分表示:
  - 巨大diffは省略表示 (目安: 1,000,000文字超)
  - バイナリは表示しない
- Git用語はUIに出さない (内部ログは可)
- Gitリポジトリに `main` が無い場合はサポートしない
- Gitが未導入の場合は検出して案内し、履歴機能は無効化する
- アプリ設定(ユーザー名/メール等)はリポジトリ配下に置かず、OSのユーザーデータ領域へ保存する (例: `app.getPath('userData')`)

## 3. 将来: クラウドへ保存

- UIでは「クラウドへ保存/クラウドから取得」として表現する
- 内部では remote を使うが、認証/設定はユーザーに難しいため導線を慎重に設計する

## 4. 検討項目

- (将来) `main` の最新化: クラウド保存の導線に統合する想定 (MVPでは不要)

## 5. 配布/インストール (確定)

- パッケージング: `electron-builder` を採用する
- MVPスコープ: Windows向けインストーラ生成まで含める (`.exe`)
- 配布物(予定):
  - Windows: NSISインストーラ(`.exe`) を基本とする
- 配布経路(予定): GitHub Releases への手動アップロードから開始する (CIは後続)
- 署名/自動更新: MVPでは行わず、将来対応とする
- macOS向け配布物(DMG): 将来対応とする
